---
provider: clab
module: [ isis]

nodes:
 s1:
  device: eos
  id: 1
  isis:
    instance: netlab
    net: 49.0001.1921.6800.1001.00
  loopback:
    ipv4: 192.168.1.1/32
    ipv6: fd00::192:168:1:1/128
 s2:
  device: eos
  id: 2
  isis:
    instance: netlab
    net: 49.0001.1921.6800.1002.00
  loopback:
    ipv4: 192.168.1.2/32
    ipv6: fd00::192:168:1:2/128
 l1:
  device: frr
  id: 3
  isis:
    instance: netlab
    net: 49.0001.1921.6800.2001.00
  loopback:
    ipv4: 192.168.2.1/32
    ipv6: fd00::192:168:2:1/128
 l2:
  device: frr
  id: 4
  isis:
    instance: netlab
    net: 49.0001.1921.6800.2002.00
  loopback:
    ipv4: 192.168.2.2/32
    ipv6: fd00::192:168:2:2/128
 l3:
  device: frr
  id: 5
  isis:
    instance: netlab
    net: 49.0001.1921.6800.2003.00
  loopback:
    ipv4: 192.168.2.3/32
    ipv6: fd00::192:168:2:3/128
 h1:
  device: linux
 h2:
  device: linux
 h3:
  device: linux
 h4:
  device: linux

links:
#spine1-leaf1,2,3
  - interfaces:
      - node: s1
        ifname: eth1
        isis:
          network_type: point-to-point
          bfd:
            ipv6: True
        ipv4: 10.1.1.0
        ipv6: fd00::10:1:1:0
      - node: l1
        ifname: eth8
        isis:
          network_type: point-to-point
          bfd: True
        ipv4: 10.1.1.1
        ipv6: fd00::10:1:1:1
    prefix:
      ipv4: 10.1.1.0/31
      ipv6: fd00::10:1:1:0/127
  - interfaces:
      - node: s1
        ifname: eth2
        ipv4: 10.1.1.2
        ipv6: fd00::10:1:1:2
        isis:
          network_type: point-to-point
          bfd:
            ipv6: True
      - node: l2
        ifname: eth8
        ipv4: 10.1.1.3
        ipv6: fd00::10:1:1:3
        isis:
          network_type: point-to-point
          bfd: True
    prefix:
      ipv4: 10.1.1.2/31
      ipv6: fd00::10:1:1:2/127
  - interfaces:
      - node: s1
        ifname: eth3
        ipv4: 10.1.1.4
        ipv6: fd00::10:1:1:4
        isis:
          bfd:
            ipv6: True
      - node: l3
        ifname: eth8
        ipv4: 10.1.1.5
        ipv6: fd00::10:1:1:5
        isis:
          bfd: True
    prefix:
      ipv4: 10.1.1.4/31
      ipv6: fd00::10:1:1:4/127
#spine2-leaf1,2,3
  - interfaces:
      - node: s2
        ifname: eth1
        ipv4: 10.1.2.0
        ipv6: fd00::10:1:2:0
        isis:
          network_type: point-to-point
          bfd:
            ipv6: true
      - node: l1
        ifname: eth9
        ipv4: 10.1.2.1
        ipv6: fd00::10:1:2:1
        isis:
          bfd: true
    prefix:
      ipv4: 10.1.2.0/31
      ipv6: fd00::10:1:2:0/127
  - interfaces:
      - node: s2
        ifname: eth2
        ipv4: 10.1.2.2
        ipv6: fd00::10:1:2:2
        isis:
          bfd:
            ipv6: true
      - node: l2
        ifname: eth9
        ipv4: 10.1.2.3
        ipv6: fd00::10:1:2:3
        isis:
          bfd: true
    prefix:
      ipv4: 10.1.2.2/31
      ipv6: fd00::10:1:2:2/127
  - interfaces:
      - node: s2
        ifname: eth3
        ipv4: 10.1.2.4
        ipv6: fd00::10:1:2:4
        isis:
          bfd:
            ipv6: true
      - node: l3
        ifname: eth9
        ipv4: 10.1.2.5
        ipv6: fd00::10:1:2:5
        isis:
          bfd: true
    prefix:
      ipv4: 10.1.2.4/31
      ipv6: fd00::10:1:2:4/127
#host1
  - interfaces:
      - node: h1
        ifname: eth1
        ipv4: 172.16.1.2
        ipv6: fd00::172:16:1:2
      - node: l1
        ifname: eth1
        isis: false
        ipv4: 172.16.1.1
        ipv6: fd00::172:16:1:1
    prefix:
      ipv4: 172.16.1.0/24
      ipv6: fd00::172:16:1:0/116
#host2
  - interfaces:
      - node: h2
        ifname: eth1
        ipv4: 172.16.2.2
        ipv6: fd00::172:16:2:2
      - node: l2
        ifname: eth1
        isis: false
        ipv4: 172.16.2.1
        ipv6: fd00::172:16:2:1
    prefix:
      ipv4: 172.16.2.0/24
      ipv6: fd00::172:16:1:0/116
#host3
  - interfaces:
      - node: h3
        ifname: eth1
        ipv4: 172.16.3.2
        ipv6: fd00::172:16:3:2
      - node: l3
        ifname: eth1
        isis: false
        ipv4: 172.16.3.1
        ipv6: fd00::172:16:3:1
    prefix:
      ipv4: 172.16.3.0/24
      ipv6: fd00::172:16:3:0/116
#host4
  - interfaces:
      - node: h4
        ifname: eth1
        ipv4: 172.16.4.2
        ipv6: fd00::172:16:4:2
      - node: l3
        ifname: eth2
        isis: false
        ipv4: 172.16.4.1
        ipv6: fd00::172:16:4:1
    prefix:
      ipv4: 172.16.4.0/24
      ipv6: fd00::172:16:4:0/116
